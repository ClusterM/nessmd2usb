# nessmd2usb
Переходник для одновременного подключения к компьютеру по USB двух контроллеров от Dendy и двух от Sega Mega Drive.

![Фото](images/photo.jpg)

![Фото](images/photo2.jpg)

![Фото](images/photo3.jpg)

Переходник очень легко собирается и прошивается без использования программатора. Однако, плату лучше заказать на заводе, необходимые файлы лежат в директории "board", включая герберы.

![Плата](images/board_3d.png)


## Необходимые компоненты

- **U1** - AT90USB162
- **J5** - miniUSB разъём
- **Y1** - кварцевый резонатор на 16MHz
- **C1** и **C2** - конденсаторы на 0.1uF
- **C3** и **C4** - конденсаторы на 22pF
- **C5** - электролит на 4.7uF
- **R1** и **R2** резисторы на 200 Ом
- **LED1** - **LED2** - светодиоды, первый указывает об успешной инициализации, второй о нажатии на любую кнопку
- **R3** - резистор на 1 кОм (номинал не сильно принципиален)
- Два угловых разъёма DB-9 и два угловых разъёма DB-15


## Как собрать и прошить прошивку

Для сборки необходима библиотека [LUFA](http://www.fourwalledcubicle.com/LUFA.php) и компилятор [WinAVR](http://winavr.sourceforge.net/), но скомпилированная прошика уже есть в репозитории - "**[nessmd2usb.hex](nessmd2usb.hex)**".
Прошивается микроконтроллер прямо по USB приложением [FLIP](http://www.atmel.com/tools/FLIP.aspx). Для перевода устройства в режим прошивки нужно замкнуть площадку "**RST**", например на корпус USB-разъёма, рядом с которым она и расположена.


## Как использовать

Устройство работает без дополнительных драйверов. Под Windows оно видится как четыре игровых контроллера. Под *nix и MacOS скорее всего понадобятся танцы с бубном.
Контроллеры от Денди поддерживаются как с широким (15-пиновым) разъёмом, так и с узким (9-пиновым) разъёмом. Последние можно включать в гнёзда для Сеги.

## Корпус

В директории "**[case](case)**" есть STL файлы для печати корпуса на 3D принтере.

![Корпус](images/case.png)

![Корпус](images/incase.jpg)
